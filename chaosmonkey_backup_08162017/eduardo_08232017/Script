Script


====== Application Resilience

1 Set - Setup
2 Set - POD - Kill POD 
Logic:
 Flow:
     Read the ball from the queue
     Hold for 1 sec
     Release the ball to the queue

3 Set - ReplicaSet - Killing Ping POD - 50% chance of the ball being on that POD
4 Set - Save State - Redis

Logic:
Initialization:
    Is there a ball in the cache?
       If so, release the ball on the queue
       Clean the cache

 Flow:
     Read the ball from the queue
     Store on cache
     Hold for 1 sec
     Release the ball to the queue
     Clean the cache

5 Set - Multiple Player - 2 Ping POD (Ping1, Pong2), 2 Pong POD - 
    - Ball on Pong POD - Things are OK
    - Ball on Ping POD - Ping1 has the ball
      - Kill Ping1 - Save State will recover from the scenario
      - Kill Ping2 - 2 balls into the game

Timeline
Ping1 has the white ball
Ping1 stores the white ball into the cache/redis
I happen to kill Ping2
Kube will recreate Ping2
Ping2 will release the white ball to the queue
Ping1 will also release the white ball to the queue

6 Set - Check State

Logic:
Initialization:
    Is there a ball in the cache?
       If so, release the ball on the queue
       Clean the cache

 Flow:
     Read the ball from the queue
     Store on cache
     Hold for 1 sec
     Check the cache - Is there a ball in the cache?
       If so, release the ball on the queue
       Clean the cache

7 Set - Bug
    If random < 0.05 kill the pod from inside

   
=========================  Platform Resilience
8 Set - Stop Node

9 Set - Multiple balls

Final State 

HA - Application + Platform